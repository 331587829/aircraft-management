<!--pages/document-edit/document-edit.wxml-->
<view class="modern-container">
  <!-- ä¸»è¦å†…å®¹åŒºåŸŸ - ç°ä»£åŒ–æ»¡å±å¸ƒå±€ -->
  <view class="modern-main-content">
    <!-- æ ‡é¢˜è¾“å…¥ -->
    <view class="modern-input-section">
      <text class="modern-section-label">æ ‡é¢˜</text>
      <view class="input-wrapper">
        <input 
          class="modern-title-input" 
          placeholder="è¯·è¾“å…¥æ ‡é¢˜..." 
          value="{{title}}" 
          bindinput="onTitleInput" 
          maxlength="100"
        />
        <text class="modern-character-count">{{title.length}}/100</text>
      </view>
    </view>
    
    <!-- åˆ†ç±»é€‰æ‹© -->
    <view class="modern-input-section">
      <text class="modern-section-label">åˆ†ç±»</text>
      <picker 
        range="{{categoryNames}}" 
        value="{{categoryIndex}}" 
        bindchange="onCategoryChange"
        class="modern-category-selector"
      >
        <view class="modern-category-text">{{selectedCategory ? selectedCategory.name : 'è¯·é€‰æ‹©åˆ†ç±»'}}</view>
      </picker>
    </view>
    
    <!-- æƒé™é€‰æ‹© -->
    <view class="modern-input-section">
      <text class="modern-section-label">æƒé™</text>
      <view class="modern-permission-selector">
        <view 
          class="modern-permission-option {{permissionLevel === 'public' ? 'active' : ''}}" 
          bindtap="setPermission" 
          data-level="public"
        >
          <text class="permission-icon">ğŸŒ</text>
          <text class="permission-text">å…¬å¼€</text>
        </view>
        <view 
          class="modern-permission-option {{permissionLevel === 'vip' ? 'active' : ''}}" 
          bindtap="setPermission" 
          data-level="vip"
        >
          <text class="permission-icon">ğŸ”’</text>
          <text class="permission-text">VIPæœºä¸»</text>
        </view>
      </view>
    </view>
    
    <!-- å†…å®¹ç¼–è¾‘ -->
    <view class="modern-input-section modern-content-section">
      <text class="modern-section-label">å†…å®¹</text>
      
      <!-- é™„ä»¶å·¥å…·æ  - æ”¾åœ¨å†…å®¹æ ‡é¢˜ä¸‹é¢ï¼Œå†…å®¹ç¼–è¾‘æ¡†å¤–é¢ -->
      <view class="modern-attachment-toolbar">
        <button class="modern-btn-attachment" bindtap="addImage"><text class="attachment-icon">ğŸ–¼ï¸</text></button>
        <button class="modern-btn-attachment" bindtap="insertHeading"><text class="attachment-icon">H2</text></button>
        <button class="modern-btn-attachment" bindtap="insertDivider"><text class="attachment-icon">â€”</text></button>
      </view>
      
      <editor id="editor" class="modern-editor" placeholder="è¯·è¾“å…¥å†…å®¹..." bindready="onEditorReady" bindinput="onEditorInput"></editor>
    </view>
    
    
  </view>
  
  <!-- å‘å¸ƒæŒ‰é’®åŒºåŸŸ -->
  <view class="modern-footer">
    <button class="modern-btn-publish {{(!hasContent || isSubmitting) ? 'disabled' : ''}}" bindtap="onSave" disabled="{{!hasContent || isSubmitting}}">
      {{isEdit ? 'ä¿å­˜' : 'å‘å¸ƒ'}}
    </button>
  </view>
  

</view>
